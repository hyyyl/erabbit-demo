{"version":3,"file":"js/281.1edff360.js","mappings":"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","sources":["webpack://erabbit-client-pc/./src/api/home.js","webpack://erabbit-client-pc/./src/views/category/component/goods-item.vue","webpack://erabbit-client-pc/./src/views/category/component/goods-item.vue?aa0a","webpack://erabbit-client-pc/./src/views/category/index.vue","webpack://erabbit-client-pc/./src/views/category/index.vue?2ee1"],"sourcesContent":["// 提供首页相关API函数\r\n\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n * 获取品牌\r\n * @param limit{number} 拿回来品牌的个数\r\n * @returns {Promise}\r\n */\r\nexport const findBrand = (limit = 6) => {\r\n  return request('/home/brand', 'get', { limit })\r\n}\r\n\r\n/**\r\n * 获取广告区轮播图\r\n * @returns {Promise}\r\n */\r\nexport const findBanner = () => {\r\n  return request('/home/banner', 'get')\r\n}\r\n/**\r\n * 获取新鲜好物\r\n * @returns {Promise}\r\n */\r\nexport const findNew = () => {\r\n  return request('/home/new', 'get')\r\n}\r\n\r\n/**\r\n * 获取人气推荐\r\n * @returns {Promise}\r\n */\r\nexport const findHot = () => {\r\n  return request('/home/hot', 'get')\r\n}\r\n\r\n/**\r\n * 获取商品区块\r\n * @returns {Promise}\r\n */\r\nexport const findProduct = () => {\r\n  return request('/home/goods', 'get')\r\n}\r\n\r\n/**\r\n * 获取最新专题\r\n * @returns {Promise}\r\n */\r\nexport const findSpecial = () => {\r\n  return request('/home/special', 'get')\r\n}\r\n","<template>\r\n  <RouterLink :to=\"`/product/${goods.id}`\" class='goods-item'>\r\n    <img :src=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </RouterLink>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-item.vue?vue&type=template&id=26912173&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=26912173&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Web\\\\Demo\\\\erabbit-client-pc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26912173\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"top-category\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <xtx-bread>\r\n        <xtx-bread-item to=\"/\">首页</xtx-bread-item>\r\n        <transition name=\"fade-bread\" mode=\"out-in\">\r\n          <xtx-bread-item :key=\"topCategory.id\">{{topCategory.name}}</xtx-bread-item>\r\n        </transition>\r\n      </xtx-bread>\r\n      <!-- 轮播图 -->\r\n      <xtx-carousel :slider=\"slider\" style=\"height:500px\"></xtx-carousel>\r\n      <!-- 所有二级分类 -->\r\n      <div class=\"sub-list\">\r\n        <h3>全部分类</h3>\r\n        <ul>\r\n          <li v-for=\"item in topCategory.children\" :key=\"item.id\">\r\n            <a href=\"javascript:;\">\r\n              <img :src=\"item.picture\" alt=\"\">\r\n              <p>{{ item.name }}</p>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 不同分类商品 -->\r\n      <!-- 分类关联商品 -->\r\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\r\n        <div class=\"head\">\r\n          <h3>- {{ sub.name }} -</h3>\r\n          <p class=\"tag\">品牌信赖，品质之选</p>\r\n          <xtx-more :path=\"`/category/sub/${sub.id}`\"></xtx-more>\r\n        </div>\r\n        <div class=\"body\">\r\n          <goods-item v-for=\"item in sub.goods\" :key=\"item.id\" :goods=\"item\"></goods-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { findBanner } from '@/api/home'\r\nimport { computed, ref, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport GoodsItem from '@/views/category/component/goods-item'\r\nimport { findTopCategory } from '@/api/category'\r\n\r\nexport default {\r\n  name: 'TopCategory',\r\n  components: {\r\n    GoodsItem\r\n  },\r\n  setup () {\r\n    const slider = ref([])\r\n    findBanner().then(data => {\r\n      slider.value = data.result\r\n    })\r\n\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const topCategory = computed(() => {\r\n      return store.state.category.list.find(item => item.id === route.params.id) ?? {}\r\n    })\r\n    const subList = ref([])\r\n    const getSubList = () => {\r\n      findTopCategory(route.params.id).then(data => {\r\n        subList.value = data.result.children\r\n      })\r\n    }\r\n\r\n    watch(() => route.params.id, (newVal) => {\r\n      // 严谨地判断，在顶级分类下再发请求\r\n      newVal && `/category/${newVal}` === route.path && getSubList()\r\n    }, { immediate: true })\r\n\r\n    return { slider, topCategory, subList }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n\r\n.top-category {\r\n  h3 {\r\n    font-size: 28px;\r\n    color: #666;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    line-height: 100px;\r\n  }\r\n  .sub-list {\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      padding: 0 32px;\r\n      flex-wrap: wrap;\r\n      li {\r\n        width: 168px;\r\n        height: 160px;\r\n        a {\r\n          text-align: center;\r\n          display: block;\r\n          font-size: 16px;\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n          p {\r\n            line-height: 40px;\r\n          }\r\n          &:hover {\r\n            color: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ref-goods {\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    position: relative;\r\n    .head {\r\n      .xtx-more {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n      }\r\n      .tag {\r\n        text-align: center;\r\n        color: #999;\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -20px;\r\n      }\r\n    }\r\n    .body {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      padding: 0 65px 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=081c886e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=081c886e&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\Web\\\\Demo\\\\erabbit-client-pc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-081c886e\"]])\n\nexport default __exports__"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findProduct","findSpecial","class","_createBlock","_component_RouterLink","to","$props","id","_createElementVNode","src","picture","alt","_toDisplayString","name","desc","price","props","goods","type","Object","default","__exports__","render","href","_createElementBlock","_createVNode","_component_xtx_bread","_component_xtx_bread_item","_Transition","mode","key","$setup","_component_xtx_carousel","slider","style","_hoisted_5","_Fragment","_renderList","children","item","sub","_hoisted_9","_component_xtx_more","path","_component_goods_item","components","GoodsItem","setup","ref","then","data","value","result","store","useStore","route","useRoute","topCategory","computed","state","category","list","find","params","subList","getSubList","findTopCategory","watch","newVal","immediate"],"sourceRoot":""}