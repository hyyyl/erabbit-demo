"use strict";(self["webpackChunkerabbit_client_pc"]=self["webpackChunkerabbit_client_pc"]||[]).push([[630],{2630:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ut}});var r=a(3396),n=a(7139),i=a(3947);const l=e=>((0,r.dD)("data-v-4bac914d"),e=e(),(0,r.Cn)(),e),o=(0,r.Uk)("欢迎登录"),s={class:"login-section"},u={class:"wrapper"},d=(0,r.Uk)("表单"),c={key:1,class:"qrcode-box"},v=l((()=>(0,r._)("img",{src:i,alt:""},null,-1))),f=l((()=>(0,r._)("p",null,[(0,r.Uk)("打开 "),(0,r._)("a",{href:"javascript:;"},"小兔鲜App"),(0,r.Uk)(" 扫码登录")],-1))),m=[v,f];function p(e,t,a,i,l,v){const f=(0,r.up)("login-header"),p=(0,r.up)("login-form"),h=(0,r.up)("login-footer");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[o])),_:1}),(0,r._)("section",s,[(0,r._)("div",u,[(0,r._)("nav",null,[(0,r._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=e=>i.isActive="account"),class:(0,n.C_)({active:"account"===i.isActive})},"账户登录",2),(0,r._)("a",{href:"javascript:;",onClick:t[1]||(t[1]=e=>i.isActive="qrcode"),class:(0,n.C_)({active:"qrcode"===i.isActive})},"扫码登录",2)]),"account"===i.isActive?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[d])),_:1})):(0,r.kq)("",!0),"qrcode"===i.isActive?((0,r.wg)(),(0,r.iD)("div",c,m)):(0,r.kq)("",!0)])]),(0,r.Wm)(h)],64)}const h=e=>((0,r.dD)("data-v-547037fa"),e=e(),(0,r.Cn)(),e),y={class:"login-header"},g={class:"container"},b={class:"logo"},_=(0,r.Uk)("小兔鲜"),V={class:"sub"},S=(0,r.Uk)(" 进入网站首页 "),F=h((()=>(0,r._)("i",{class:"iconfont icon-angle-right"},null,-1))),k=h((()=>(0,r._)("i",{class:"iconfont icon-angle-right"},null,-1)));function A(e,t,a,n,i,l){const o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",y,[(0,r._)("div",g,[(0,r._)("h1",b,[(0,r.Wm)(o,{to:"/"},{default:(0,r.w5)((()=>[_])),_:1})]),(0,r._)("h3",V,[(0,r.WI)(e.$slots,"default",{},void 0,!0)]),(0,r.Wm)(o,{class:"entry",to:"/"},{default:(0,r.w5)((()=>[S,F,k])),_:1})])])}var w={name:"LoginHeader"},j=a(89);const O=(0,j.Z)(w,[["render",A],["__scopeId","data-v-547037fa"]]);var U=O;const E={class:"login-footer"},D=(0,r.uE)('<div class="container" data-v-17badf56><p data-v-17badf56><a href="javascript:;" data-v-17badf56>关于我们</a><a href="javascript:;" data-v-17badf56>帮助中心</a><a href="javascript:;" data-v-17badf56>售后服务</a><a href="javascript:;" data-v-17badf56>配送与验收</a><a href="javascript:;" data-v-17badf56>商务合作</a><a href="javascript:;" data-v-17badf56>搜索推荐</a><a href="javascript:;" data-v-17badf56>友情链接</a></p><p data-v-17badf56>CopyRight © 小兔鲜儿</p></div>',1),M=[D];function C(e,t,a,n,i,l){return(0,r.wg)(),(0,r.iD)("footer",E,M)}var T={name:"LoginFooter"};const x=(0,j.Z)(T,[["render",C],["__scopeId","data-v-17badf56"]]);var q=x,B=a(4870);const L=e=>((0,r.dD)("data-v-13a1ab50"),e=e(),(0,r.Cn)(),e),I={class:"account-box"},R={class:"toggle"},$=L((()=>(0,r._)("i",{class:"iconfont icon-user"},null,-1))),H=(0,r.Uk)(" 使用账号登录 "),P=[$,H],W=L((()=>(0,r._)("i",{class:"iconfont icon-msg"},null,-1))),Y=(0,r.Uk)(" 使用短信登录 "),z=[W,Y],N={class:"form-item"},Z={class:"input"},J=L((()=>(0,r._)("i",{class:"iconfont icon-user"},null,-1))),G={key:0,class:"error"},X=L((()=>(0,r._)("i",{class:"iconfont icon-warning"},null,-1))),K={class:"form-item"},Q={class:"input"},ee=L((()=>(0,r._)("i",{class:"iconfont icon-lock"},null,-1))),te={key:0,class:"error"},ae=L((()=>(0,r._)("i",{class:"iconfont icon-warning"},null,-1))),re={class:"form-item"},ne={class:"input"},ie=L((()=>(0,r._)("i",{class:"iconfont icon-user"},null,-1))),le={key:0,class:"error"},oe=L((()=>(0,r._)("i",{class:"iconfont icon-warning"},null,-1))),se={class:"form-item"},ue={class:"input"},de=L((()=>(0,r._)("i",{class:"iconfont icon-code"},null,-1))),ce=L((()=>(0,r._)("span",{class:"code"},"发送验证码",-1))),ve={key:0,class:"error"},fe=L((()=>(0,r._)("i",{class:"iconfont icon-warning"},null,-1))),me={class:"form-item"},pe={class:"agree"},he=L((()=>(0,r._)("span",null,"我已同意",-1))),ye=L((()=>(0,r._)("a",{href:"javascript:;"},"《隐私条款》",-1))),ge=L((()=>(0,r._)("span",null,"和",-1))),be=L((()=>(0,r._)("a",{href:"javascript:;"},"《服务条款》",-1))),_e=L((()=>(0,r._)("a",{href:"javascript:;",class:"btn"},"登录",-1))),Ve=(0,r.uE)('<div class="action" data-v-13a1ab50><img src="https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png" alt="" data-v-13a1ab50><div class="url" data-v-13a1ab50><a href="javascript:;" data-v-13a1ab50>忘记密码</a><a href="javascript:;" data-v-13a1ab50>免费注册</a></div></div>',1);function Se(e,t,a,i,l,o){const s=(0,r.up)("Field"),u=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",I,[(0,r._)("div",R,[i.isMsgLogin?((0,r.wg)(),(0,r.iD)("a",{key:0,onClick:t[0]||(t[0]=e=>i.isMsgLogin=!1),href:"javascript:;"},P)):((0,r.wg)(),(0,r.iD)("a",{key:1,onClick:t[1]||(t[1]=e=>i.isMsgLogin=!0),href:"javascript:;"},z))]),(0,r.Wm)(u,{class:"form","validation-schema":i.mySchema,autocomplete:"off"},{default:(0,r.w5)((({errors:e})=>[i.isMsgLogin?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("div",re,[(0,r._)("div",ne,[ie,(0,r.Wm)(s,{type:"text",class:(0,n.C_)({error:e.mobile}),modelValue:i.form.mobile,"onUpdate:modelValue":t[4]||(t[4]=e=>i.form.mobile=e),name:"mobile",placeholder:"请输入手机号"},null,8,["class","modelValue"])]),e.mobile?((0,r.wg)(),(0,r.iD)("div",le,[oe,(0,r.Uk)((0,n.zw)(e.mobile),1)])):(0,r.kq)("",!0)]),(0,r._)("div",se,[(0,r._)("div",ue,[de,(0,r.Wm)(s,{type:"text",class:(0,n.C_)({error:e.code}),modelValue:i.form.code,"onUpdate:modelValue":t[5]||(t[5]=e=>i.form.code=e),name:"code",placeholder:"请输入验证码"},null,8,["class","modelValue"]),ce]),e.code?((0,r.wg)(),(0,r.iD)("div",ve,[fe,(0,r.Uk)((0,n.zw)(e.code),1)])):(0,r.kq)("",!0)])],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("div",N,[(0,r._)("div",Z,[J,(0,r.Wm)(s,{type:"text",name:"account",class:(0,n.C_)({error:e.account}),modelValue:i.form.account,"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.account=e),placeholder:"请输入用户名"},null,8,["class","modelValue"])]),e.account?((0,r.wg)(),(0,r.iD)("div",G,[X,(0,r.Uk)((0,n.zw)(e.account),1)])):(0,r.kq)("",!0)]),(0,r._)("div",K,[(0,r._)("div",Q,[ee,(0,r.Wm)(s,{type:"password",class:(0,n.C_)({error:e.password}),modelValue:i.form.password,"onUpdate:modelValue":t[3]||(t[3]=e=>i.form.password=e),name:"password",placeholder:"请输入密码"},null,8,["class","modelValue"])]),e.password?((0,r.wg)(),(0,r.iD)("div",te,[ae,(0,r.Uk)((0,n.zw)(e.password),1)])):(0,r.kq)("",!0)])],64)),(0,r._)("div",me,[(0,r._)("div",pe,[(0,r.Wm)(s,{as:"xtx-checkbox",modelValue:i.form.isAgree,"onUpdate:modelValue":t[6]||(t[6]=e=>i.form.isAgree=e),name:"isAgree"},null,8,["modelValue"]),he,ye,ge,be])]),_e])),_:1},8,["validation-schema"]),Ve])}a(1703);
/**
  * vee-validate v4.0.3
  * (c) 2020 Abdelrahman Awad
  * @license MIT
  */
function Fe(e){return"function"===typeof e}const ke=e=>null!==e&&!!e&&"object"===typeof e&&!Array.isArray(e),Ae={};function we(e){return Ae[e]}function je(e){return Fe(e)&&!!e.__locatorRef}function Oe(e){return["input","textarea","select"].includes(e)}function Ue(e,t){return Oe(e)&&"file"===t}function Ee(e){return!!e&&Fe(e.validate)}function De(e){return"checkbox"===e||"radio"===e}function Me(e){return Number(e)>=0}function Ce(e){return Array.isArray(e)?0===e.length:ke(e)&&0===Object.keys(e).length}function Te(e){return/^\[.+\]$/i.test(e)}function xe(e){return Te(e)?e.replace(/\[|\]/gi,""):e}function qe(e,t){if(e)return Te(t)?e[xe(t)]:t.split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>{if(e&&t in e)return e[t]}),e)}function Be(e,t,a){if(Te(t))return void(e[xe(t)]=a);const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let n=e;for(let i=0;i<r.length;i++){if(i===r.length-1)return void(n[r[i]]=a);r[i]in n||(n[r[i]]=Me(r[i+1])?[]:{}),n=n[r[i]]}}function Le(e,t){Array.isArray(e)&&Me(t)?e.splice(Number(t),1):delete e[t]}function Ie(e,t){if(Te(t))return void delete e[xe(t)];const a=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let i=0;i<a.length;i++){if(i===a.length-1){Le(r,a[i]);break}if(!(a[i]in r))break;r=r[a[i]]}const n=a.map(((t,r)=>qe(e,a.slice(0,r).join("."))));for(let i=n.length-1;i>=0;i--)Ce(n[i])&&(0!==i?Le(n[i-1],a[i-1]):Le(e,a[0]))}function Re(e){return Object.keys(e)}function $e(e,t){const a=(0,r.FN)();return(0,r.f3)(e,(null===a||void 0===a?void 0:a.provides[e])||t)}const He=e=>!!e&&(!!("undefined"!==typeof Event&&Fe(Event)&&e instanceof Event)||!(!e||!e.srcElement));function Pe(e){if(!He(e))return e;const t=e.target;return De(t.type)&&"_value"in t?t._value:"file"===t.type&&t.files?Array.from(t.files):t.value}function We(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Fe(e)||Ee(e)||ke(e)&&e._$$isNormalized?e:ke(e)?Object.keys(e).reduce(((t,a)=>{const r=Ye(e[a]);return!1!==e[a]&&(t[a]=ze(r)),t}),t):"string"!==typeof e?t:e.split("|").reduce(((e,t)=>{const a=Ne(t);return a.name?(e[a.name]=ze(a.params),e):e}),t):t}function Ye(e){return!0===e?[]:Array.isArray(e)||ke(e)?e:[e]}function ze(e){const t=e=>"string"===typeof e&&"@"===e[0]?Ze(e.slice(1)):e;return Array.isArray(e)?e.map(t):Object.keys(e).reduce(((a,r)=>(a[r]=t(e[r]),a)),{})}const Ne=e=>{let t=[];const a=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:a,params:t}};function Ze(e){const t=t=>{const a=t[e];return a};return t.__locatorRef=e,t}function Je(e){return Array.isArray(e)?e.filter(je):Object.keys(e).filter((t=>je(e[t]))).map((t=>e[t]))}const Ge=(e,t)=>e.slots.default?e.slots.default(t):e.slots.default,Xe={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Ke=Object.assign({},Xe);const Qe=()=>Ke;async function et(e,t,a={}){const r=null===a||void 0===a?void 0:a.bails,n={name:(null===a||void 0===a?void 0:a.name)||"{field}",rules:We(t),bails:null===r||void 0===r||r,formData:(null===a||void 0===a?void 0:a.values)||{}},i=await tt(n,e),l=i.errors;return{errors:l}}async function tt(e,t){if(Ee(e.rules))return at(e,t);if(Fe(e.rules)){const a=await e.rules(t,{field:e.name,form:e.formData}),r="string"!==typeof a&&a,n="string"===typeof a?a:nt({field:e.name,value:t,form:e.formData});return{errors:r?[]:[n]}}const a=[],r=Object.keys(e.rules),n=r.length;for(let i=0;i<n;i++){const n=r[i],l=await rt(e,t,{name:n,params:e.rules[n]});if(l.error&&(a.push(l.error),e.bails))return{errors:a}}return{errors:a}}async function at(e,t){const a=await e.rules.validate(t,{abortEarly:e.bails}).then((()=>[])).catch((e=>{if("ValidationError"===e.name)return e.errors;throw e}));return{errors:a}}async function rt(e,t,a){const r=we(a.name);if(!r)throw new Error(`No such validator '${a.name}' exists.`);const n=it(a.params,e.formData),i={field:e.name,value:t,form:e.formData,rule:a},l=await r(t,n,i);return"string"===typeof l?{error:l}:{error:l?void 0:nt(i)}}function nt(e){const t=Qe().generateMessage;return t?t(e):"Field is invalid"}function it(e,t){const a=e=>je(e)?e(t):e;return Array.isArray(e)?e.map(a):Object.keys(e).reduce(((t,r)=>(t[r]=a(e[r]),t)),{})}const lt=Symbol("vee-validate-form"),ot=Symbol("vee-validate-form-errors"),st=Symbol("vee-validate-form-initial-values");let ut=0;function dt(e,t,a){const n=ut>=Number.MAX_SAFE_INTEGER?0:++ut,{initialValue:i,validateOnMount:l,bails:o,type:s,valueProp:u,label:d,validateOnValueUpdate:c}=ct((0,B.SU)(e),a),v=$e(lt),{meta:f,errors:m,handleBlur:p,handleInput:h,resetValidationState:y,setValidationState:g,value:b,checked:_}=vt({name:e,initValue:(0,B.SU)(i),form:v,type:s,valueProp:u}),V=mt(null===v||void 0===v?void 0:v.schema,(0,B.SU)(e)),S=(0,r.Fl)((()=>We(V||(0,B.SU)(t)))),F=async()=>{var t;let a;return f.pending=!0,a=v&&v.validateSchema?(await v.validateSchema())[(0,B.SU)(e)]:await et(b.value,S.value,{name:(0,B.SU)(d)||(0,B.SU)(e),values:null!==(t=null===v||void 0===v?void 0:v.values)&&void 0!==t?t:{},bails:o}),f.pending=!1,g(a)},k=e=>{var t,a;if(!_||_.value!==(null===(a=null===(t=e)||void 0===t?void 0:t.target)||void 0===a?void 0:a.checked))return b.value=Pe(e),f.dirty=!0,c?void 0:F()};l&&(0,r.bv)(F);const A=(0,r.Fl)((()=>m.value[0]));function w(e){f.touched=e}function j(e){f.dirty=e}let O;function U(){c&&(O=(0,r.YP)(b,F,{deep:!0}))}function E(e){null===O||void 0===O||O(),y(e),U()}U();const D={fid:n,name:e,value:b,meta:f,errors:m,errorMessage:A,type:s,valueProp:u,checked:_,idx:-1,resetField:E,handleReset:()=>E(),validate:F,handleChange:k,handleBlur:p,handleInput:h,setValidationState:g,setTouched:w,setDirty:j};if((0,B.dq)(t)&&"function"!==typeof(0,B.SU)(t)&&(0,r.YP)(t,F,{deep:!0}),!v)return D;v.register(D),(0,r.Jd)((()=>{v.unregister(D)}));const M=(0,r.Fl)((()=>{const e=S.value;return!e||Fe(e)||Fe(e.validate)?[]:Object.keys(e).reduce(((e,t)=>{const a=Je(S.value[t]).map((e=>e.__locatorRef));return e.push(...a),e}),[])}));return(0,r.m0)((()=>{M.value.length&&M.value.forEach((e=>{if(e in v.values&&f.dirty)return F()}))})),D}function ct(e,t){const a=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0});return t?Object.assign(Object.assign({},a()),t||{}):a()}function vt({name:e,initValue:t,form:a,type:n,valueProp:i}){var l;const o=(0,B.iH)([]),s=$e(st,void 0),u=null!==(l=qe((0,B.SU)(s),(0,B.SU)(e)))&&void 0!==l?l:t,{resetMeta:d,meta:c}=ft(u),v=pt(u,e,a);De(n)&&u&&(v.value=u);const f=De(n)?(0,r.Fl)((()=>Array.isArray(v.value)?v.value.includes((0,B.SU)(i)):(0,B.SU)(i)===v.value)):void 0;(void 0===f||f.value)&&(v.value=u);const m=()=>{c.touched=!0},p=e=>{De(n)||(v.value=Pe(e)),c.dirty=!0};function h(e){return o.value=e.errors,c.valid=!e.errors.length,e}function y(a){var r;v.value=a&&"value"in a?a.value:null!==(r=qe((0,B.SU)(s),(0,B.SU)(e)))&&void 0!==r?r:t,o.value=(null===a||void 0===a?void 0:a.errors)||[],d(a)}return{meta:c,errors:o,setValidationState:h,resetValidationState:y,handleBlur:m,handleInput:p,value:v,checked:f}}function ft(e){const t=()=>({touched:!1,dirty:!1,valid:!1,pending:!1,initialValue:e}),a=(0,B.qj)(t());function r(e){var r,n,i;const l=t();a.pending=l.pending,a.touched=null!==(r=null===e||void 0===e?void 0:e.touched)&&void 0!==r?r:l.touched,a.dirty=null!==(n=null===e||void 0===e?void 0:e.dirty)&&void 0!==n?n:l.dirty,a.initialValue=null!==(i=null===e||void 0===e?void 0:e.value)&&void 0!==i?i:l.initialValue}return{meta:a,resetMeta:r}}function mt(e,t){if(e)return e[t]}function pt(e,t,a){if(!a)return(0,B.iH)(e);Be(a.values,(0,B.SU)(t),e);const n=(0,r.Fl)({get(){return qe(a.values,(0,B.SU)(t))},set(e){a.setFieldValue((0,B.SU)(t),e)}});return n}const ht=(0,r.aZ)({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:null},validateOnMount:{type:Boolean,default:!1},bails:{type:Boolean,default:()=>Qe().bails},label:{type:String,default:void 0}},setup(e,t){const a=(0,B.Vh)(e,"rules"),n=(0,B.Vh)(e,"name"),i=(0,B.Vh)(e,"label"),{errors:l,value:o,errorMessage:s,validate:u,handleChange:d,handleBlur:c,handleInput:v,setDirty:f,setTouched:m,resetField:p,handleReset:h,meta:y,checked:g}=dt(n,a,{validateOnMount:e.validateOnMount,bails:e.bails,type:t.attrs.type,initialValue:De(t.attrs.type)||"modelValue"in t.attrs?t.attrs.modelValue:t.attrs.value,valueProp:t.attrs.value,label:i,validateOnValueUpdate:!1});let b=!1;function _(){b=!0,(0,r.Y3)((()=>{b=!1}))}const V="modelValue"in t.attrs?function(e){d(e),t.emit("update:modelValue",o.value)}:d,S="modelValue"in t.attrs?function(e){v(e),t.emit("update:modelValue",o.value)}:v,{validateOnInput:F,validateOnChange:k,validateOnBlur:A,validateOnModelUpdate:w}=Qe(),j=[c,t.attrs.onBlur,A?u:void 0].filter(Boolean),O=[S,_,F?V:void 0,t.attrs.onInput].filter(Boolean),U=[S,_,k?V:void 0,t.attrs.onChange].filter(Boolean),E=()=>{const a={name:e.name,onBlur:j,onInput:O,onChange:U};return w&&(a["onUpdate:modelValue"]=[V,_]),De(t.attrs.type)&&g?a.checked=g.value:a.value=o.value,Ue(yt(e,t),t.attrs.type)&&delete a.value,{field:a,meta:y,errors:l.value,errorMessage:s.value,validate:u,resetField:p,handleChange:V,handleInput:S,handleReset:h,handleBlur:c,setDirty:f,setTouched:m}};return()=>{const a=(0,r.LL)(yt(e,t)),n=E();"modelValue"in t.attrs&&String(t.attrs.modelValue)!==String(o.value)&&!b&&(0,r.Y3)((()=>{d(t.attrs.modelValue)}));const i=Ge(t,n);return a?(0,r.h)(a,Object.assign(Object.assign({},t.attrs),n.field),i):i}}});function yt(e,t){let a=e.as||"";return e.as||t.slots.default||(a="input"),a}function gt(e){const t=(0,B.iH)([]),a=(0,B.iH)(!1),n=(0,r.Fl)((()=>t.value.reduce(((e,t)=>{if(!e[t.name])return e[t.name]=t,t.idx=-1,e;if(!Array.isArray(e[t.name])){const a=e[t.name];a.idx=0,e[t.name]=[a]}return t.idx=e[t.name].length,e[t.name].push(t),e}),{}))),i=(0,B.qj)({}),l={},o=(0,r.Fl)((()=>t.value.reduce(((e,t)=>{let a;if(Array.isArray(n.value[t.name])){const e=n.value[t.name];a=(0,B.SU)((e.find((e=>(0,B.SU)(e.checked)))||t).errorMessage)}else a=(0,B.SU)(t.errorMessage);return a&&(e[t.name]=a),e}),{}))),{initialValues:s,setInitialValues:u}=Vt(n,i,null===e||void 0===e?void 0:e.initialValues),d=bt(t,s);function c(e,t){const a=n.value[e];a&&(Array.isArray(a)?a.forEach((e=>{e.setValidationState({errors:t?[t]:[]})})):a.setValidationState({errors:t?[t]:[]}))}function v(e){Re(e).forEach((t=>{c(t,e[t])}))}function f(e,t){var a;const r=n.value[e];if(Array.isArray(r)&&"checkbox"===(null===(a=r[0])||void 0===a?void 0:a.type)&&!Array.isArray(t)){const a=qe(i,e),n=Array.isArray(a)?[...a]:[],o=n.indexOf(t);return o>=0?n.splice(o,1):n.push(t),Be(i,e,n),void r.forEach((e=>{l[e.fid]=n}))}let o=t;"checkbox"===(null===r||void 0===r?void 0:r.type)&&(o=qe(i,e)===t?void 0:t),Be(i,e,o),r&&(l[r.fid]=o)}function m(e){Re(e).forEach((t=>{f(t,e[t])}))}function p(e,t){const a=n.value[e];a&&(Array.isArray(a)?a.forEach((e=>e.setTouched(t))):a.setTouched(t))}function h(e){Re(e).forEach((t=>{p(t,!!e[t])}))}function y(e,t){const a=n.value[e];a&&(Array.isArray(a)?a.forEach((e=>e.setDirty(t))):a.setDirty(t))}function g(e){Re(e).forEach((t=>{y(t,!!e[t])}))}const b=e=>{(null===e||void 0===e?void 0:e.values)&&u(e.values),t.value.forEach((e=>e.resetField())),(null===e||void 0===e?void 0:e.dirty)&&g(e.dirty),(null===e||void 0===e?void 0:e.touched)&&h(e.touched),(null===e||void 0===e?void 0:e.errors)&&v(e.errors)};function _(e){t.value.push(e),(0,B.dq)(e.name)&&(0,r.YP)(e.name,(t=>{f(t,l[e.fid])}),{flush:"post"})}function V(e){var a,n;const o=t.value.indexOf(e);if(-1===o)return;t.value.splice(o,1);const s=e.fid;(0,r.Y3)((()=>{delete l[s]}));const u=(0,B.SU)(e.name);if(-1===e.idx)return void Ie(i,u);const d=null===(n=null===(a=qe(i,u))||void 0===a?void 0:a.indexOf)||void 0===n?void 0:n.call(a,(0,B.SU)(e.valueProp));void 0!==d?-1!==d&&(Array.isArray(i[u])?Ie(i,`${u}.${d}`):Ie(i,u)):Ie(i,u)}const S={register:_,unregister:V,fields:n,values:i,schema:null===e||void 0===e?void 0:e.validationSchema,validateSchema:Ee(null===e||void 0===e?void 0:e.validationSchema)?(e=!1)=>_t(S,e):void 0,setFieldValue:f,setValues:m,setErrors:v,setFieldError:c,setFieldTouched:p,setTouched:h,setFieldDirty:y,setDirty:g,resetForm:b},F=async()=>{if(S.validateSchema)return S.validateSchema(!0).then((e=>Object.keys(e).every((t=>!e[t].errors.length))));const e=await Promise.all(t.value.map((e=>e.validate())));return e.every((e=>!e.errors.length))},k=(0,r.Fl)((()=>t.value.reduce(((e,t)=>(Be(e,t.name,(0,B.SU)(t.value)),e)),{}))),A=e=>function(t){return t instanceof Event&&(t.preventDefault(),t.stopPropagation()),a.value=!0,F().then((a=>{if(a&&"function"===typeof e)return e(k.value,{evt:t,setDirty:g,setFieldDirty:y,setErrors:v,setFieldError:c,setTouched:h,setFieldTouched:p,setValues:m,setFieldValue:f,resetForm:b})})).then((()=>{a.value=!1}),(e=>{throw a.value=!1,e}))},w=A(((e,{evt:t})=>{var a;t&&(null===(a=null===t||void 0===t?void 0:t.target)||void 0===a||a.submit())}));return(0,r.bv)((()=>{(null===e||void 0===e?void 0:e.initialErrors)&&v(e.initialErrors),(null===e||void 0===e?void 0:e.initialDirty)&&g(e.initialDirty),(null===e||void 0===e?void 0:e.initialTouched)&&h(e.initialTouched),(null===e||void 0===e?void 0:e.validateOnMount)&&F()})),(0,r.JJ)(lt,S),(0,r.JJ)(ot,o),{errors:o,meta:d,values:i,validate:F,isSubmitting:a,handleReset:()=>b(),resetForm:b,handleSubmit:A,submitForm:w,setFieldError:c,setErrors:v,setFieldValue:f,setValues:m,setFieldTouched:p,setTouched:h,setFieldDirty:y,setDirty:g}}function bt(e,t){const a={valid:"every",dirty:"some",touched:"some",pending:"some"};return(0,r.Fl)((()=>{const r=Re(a).reduce(((t,r)=>{const n=a[r];return t[r]=e.value[n]((e=>e.meta[r])),t}),{});return Object.assign({initialValues:(0,B.SU)(t)},r)}))}async function _t(e,t=!1){const a=await e.schema.validate(e.values,{abortEarly:!1}).then((()=>[])).catch((e=>{if("ValidationError"!==e.name)throw e;return e.inner||[]})),r=e.fields.value,n=a.reduce(((e,t)=>(e[t.path]=t,e)),{}),i=Re(r).reduce(((e,a)=>{const i=r[a],l=(n[a]||{errors:[]}).errors,o={errors:l};e[a]=o;const s=Array.isArray(i),u=s?i.some((e=>e.meta.dirty)):i.meta.dirty;return t||u?s?(i.forEach((e=>e.setValidationState(o))),e):(i.setValidationState(o),e):e}),{});return i}function Vt(e,t,a){const n=(0,B.iH)((0,B.SU)(a)||{}),i=(0,r.Fl)((()=>n.value));function l(a,r=!1){if(n.value=Object.assign(Object.assign({},n.value),a),!r)return;const i=e=>e.meta.dirty||e.meta.touched;Re(e.value).forEach((a=>{const r=e.value[a],l=Array.isArray(r)?r.some(i):i(r);if(l)return;const o=qe(n.value,a);Be(t,a,o)}))}return(0,B.dq)(a)&&(0,r.YP)(a,(e=>{l(e,!0)}),{deep:!0}),(0,r.JJ)(st,i),{initialValues:i,setInitialValues:l}}const St=(0,r.aZ)({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialDirty:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1}},setup(e,t){const a=(0,B.Vh)(e,"initialValues"),{errors:n,validate:i,handleReset:l,resetForm:o,values:s,meta:u,isSubmitting:d,handleSubmit:c,submitForm:v,setErrors:f,setFieldError:m,setFieldValue:p,setValues:h,setFieldDirty:y,setDirty:g,setFieldTouched:b,setTouched:_}=gt({validationSchema:e.validationSchema,initialValues:a,initialErrors:e.initialErrors,initialTouched:e.initialTouched,initialDirty:e.initialDirty,validateOnMount:e.validateOnMount}),V=t.attrs.onSubmit?c(t.attrs.onSubmit):v;function S(){l(),"function"===typeof t.attrs.onReset&&t.attrs.onReset()}function F(e,t){const a="function"!==typeof e||t?t:e;return c(a)(e)}return function(){"setErrors"in this||(this.setFieldError=m,this.setErrors=f,this.setFieldValue=p,this.setValues=h,this.setFieldDirty=y,this.setDirty=g,this.setFieldTouched=b,this.setTouched=_,this.resetForm=o,this.validate=i);const a=Ge(t,{meta:u.value,errors:n.value,values:s,isSubmitting:d.value,validate:i,handleSubmit:F,handleReset:l,submitForm:v,setErrors:f,setFieldError:m,setFieldValue:p,setValues:h,setFieldDirty:y,setDirty:g,setFieldTouched:b,setTouched:_,resetForm:o});if(!e.as)return a;const c="form"===e.as?{novalidate:!0}:{};return(0,r.h)("form"===e.as?e.as:(0,r.LL)(e.as),Object.assign(Object.assign(Object.assign({},c),t.attrs),{onSubmit:V,onReset:S}),a)}}});(0,r.aZ)({props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const a=(0,r.f3)(ot,void 0),n=(0,r.Fl)((()=>null===a||void 0===a?void 0:a.value[e.name]));return()=>{const a=Ge(t,{message:n.value}),i=e.as?(0,r.LL)(e.as):e.as,l=Object.assign({role:"alert"},t.attrs);return!i&&(null===a||void 0===a?void 0:a.length)?a:(null===a||void 0===a?void 0:a.length)?(0,r.h)(i,l,a):(0,r.h)(i||"span",l,n.value)}}});var Ft={account(e){return e?!!/^[a-zA-Z]\w{5,19}$/.test(e)||"字母开头且6-20个字符":"请输入用户名"},password(e){return e?!!/^\w{6,24}$/.test(e)||"密码是6-24个字符":"请输入密码"},mobile(e){return e?!!/^1[3-9]\d{9}$/.test(e)||"手机号格式错误":"请输入手机号"},code(e){return e?!!/^\d{6}$/.test(e)||"验证码错误":"请输入验证码"},isAgree(e){return!!e||"请勾选同意用户协议"}},kt={name:"LoginForm",components:{Form:St,Field:ht},setup(){const e=(0,B.iH)(!1),t=(0,B.iH)({isAgree:!0,account:null,password:null,mobile:null,code:null}),a={...Ft};return{isMsgLogin:e,form:t,mySchema:a}}};const At=(0,j.Z)(kt,[["render",Se],["__scopeId","data-v-13a1ab50"]]);var wt=At,jt={name:"Login",components:{LoginHeader:U,LoginFooter:q,LoginForm:wt},setup(){const e=(0,B.iH)("account");return{isActive:e}}};const Ot=(0,j.Z)(jt,[["render",p],["__scopeId","data-v-4bac914d"]]);var Ut=Ot},3947:function(e,t,a){e.exports=a.p+"img/qrcode.f8ff6896.jpg"}}]);
//# sourceMappingURL=630.140f809b.js.map